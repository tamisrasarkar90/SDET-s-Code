/*
Problem Description:
You are given a string s consisting only of characters 'a' and 'b'​​​​.
You can delete any number of characters in s to make s balanced. s is balanced if there is no pair of indices (i,j) such that i < j and s[i] = 'b' and s[j]= 'a'.
Return the minimum number of deletions needed to make s balanced.

Example 1:
Input: s = "aababbab"
Output: 2
Explanation: You can either:
Delete the characters at 0-indexed positions 2 and 6 ("aababbab" -> "aaabbb"), or
Delete the characters at 0-indexed positions 3 and 6 ("aababbab" -> "aabbbb").

Example 2:
Input: s = "bbaaaaabb"
Output: 2
Explanation: The only solution is to delete the first two characters.

Constraints:
    1 <= s.length <= 105
    s[i] is 'a' or 'b'​​.

*/

class Solution {
    public int minimumDeletions(String s) 
    {
        Stack<Character> st=new  Stack<Character>();
        int deleteCount=0;
        int i=0;

        while(i<s.length())
        {
            if(!st.isEmpty() && st.peek()=='b' && s.charAt(i)=='a')
            {
                    st.pop();
                    i++;
                    deleteCount+=1;
            } 
        
             else
             {
                st.push(s.charAt(i));
                i++;
             }   
                                
         }
        return deleteCount; 
    }
}

//TC:O(N)
//SC:O(N)
 //Approach 2
        int n=s.length(); //we have problem if we have ba i.e left b and right a
        int left_b=0;
        int right_a=0;
        int min_deletion=Integer.MAX_VALUE;
        for(int i=0;i<n;i++)
        {
          if(s.charAt(i)=='a')
          {
             right_a++; //first compute no of a in right side of the string
          }
        }
         for(int i=0;i<n;i++)
        {
          if(s.charAt(i)=='a')
          {
            right_a--;
          }
           min_deletion=Math.min(min_deletion,right_a+left_b);   //First will compute mincount then will increase b count
           if(s.charAt(i)=='b')
          {
            left_b++;
          }
        }
      return min_deletion;
    }
}
